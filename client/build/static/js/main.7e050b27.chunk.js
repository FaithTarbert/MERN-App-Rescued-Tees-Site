(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(34),s=c.n(r),i=(c(68),c(10)),j=c(7),l=c(8),o=c(106),b=c(105),u=c(104),d=c(61),h=c(101),O=c(108),x=c(107),p=c(57),m=(c(69),p.a.initializeApp({apiKey:"AIzaSyCok36fAZhkq1sMcb-FTomTt90ORc8uI-o",authDomain:"tees-dev.firebaseapp.com",databaseURL:"https://tees-dev.firebaseio.com",projectId:"tees-dev",storageBucket:"tees-dev.appspot.com",messagingSenderId:"1022973076973",appId:"1:1022973076973:web:a13641e0cfa3a7e15db3e4"})),f=m.auth(),g=c(1),v=a.a.createContext();function w(){return Object(n.useContext)(v)}function y(e){var t=e.children,c=Object(n.useState)(),a=Object(j.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)(!0),l=Object(j.a)(i,2),o=l[0],b=l[1];Object(n.useEffect)((function(){return f.onAuthStateChanged((function(e){s(e),b(!1)}))}),[]);var u={currentUser:r,signup:function(e,t){return f.createUserWithEmailAndPassword(e,t)},login:function(e,t){return f.signInWithEmailAndPassword(e,t)},logout:function(){return f.signOut()},resetPassword:function(e){return f.sendPasswordResetEmail(e)},updateEmail:function(e){return f.currentUser.updateEmail(e)},updatePassword:function(e){return f.currentUser.updatePassword(e)}};return Object(g.jsx)(v.Provider,{value:u,children:!o&&t})}var S=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0];t[1];return Object(g.jsxs)(o.a,{bg:"primary",expand:"sm",children:[Object(g.jsx)(o.a.Brand,{href:"#home",children:"Rescued Tees"}),Object(g.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsxs)(o.a.Collapse,{id:"basic-navbar-nav",children:[Object(g.jsxs)(b.a,{className:"mr-auto",children:[Object(g.jsx)(l.b,{to:"/",children:Object(g.jsx)(b.a.Link,{href:"#home",children:"View All Tees"})}),Object(g.jsx)(l.b,{to:"/create",children:Object(g.jsx)(b.a.Link,{href:"#create",children:"Create Tee"})}),Object(g.jsx)(l.b,{to:"/update",children:Object(g.jsx)(b.a.Link,{href:"#update",children:"Update Tee"})}),Object(g.jsx)(l.b,{to:"/signup",children:Object(g.jsx)(b.a.Link,{href:"#signup",children:"Signup"})}),Object(g.jsx)(l.b,{to:"/login",children:Object(g.jsx)(b.a.Link,{href:"#login",children:"Login"})}),Object(g.jsx)(b.a.Link,{onClick:function(){},children:"Logout"}),Object(g.jsx)(l.b,{to:"/profile",children:Object(g.jsx)(b.a.Link,{href:"#profile",children:"Profile"})}),Object(g.jsx)(O.a,{children:Object(g.jsx)(O.a.Body,{children:c&&Object(g.jsx)(x.a,{variant:"danger",children:c})})})]}),Object(g.jsxs)(u.a,{inline:!0,children:[Object(g.jsx)(d.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(g.jsx)(h.a,{variant:"outline-light",children:"Search"})]})]})]})},C=(c(48),function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(i.h)().id;console.log(r),Object(n.useEffect)((function(){fetch("/api/routes").then((function(e){if(e.ok)return console.log("response ok"),e.json()})).then((function(e){return a(e)})).catch((function(e){return console.log(e)}))}),[c]);return Object(g.jsx)("div",{className:"grid",children:c&&c.map((function(e){return Object(g.jsxs)(O.a,{style:{width:"18rem"},className:"box-home",children:[Object(g.jsx)(O.a.Img,{Image:!0,variant:"top",src:e.image}),Object(g.jsxs)(O.a.Body,{children:[Object(g.jsx)(O.a.Title,{children:e.title}),Object(g.jsx)(O.a.Text,{children:e.description}),Object(g.jsxs)(l.b,{to:"/details/".concat(e._id),children:[Object(g.jsx)(h.a,{variant:"primary",children:"Details"})," "]})]})]},e._id)}))})}),N=c(102),L=c(103),k=c(62),P=c(26),T=c.n(P),U=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(j.a)(r,2),l=s[0],o=s[1],b=Object(n.useState)(""),d=Object(j.a)(b,2),h=d[0],O=d[1],x=Object(n.useState)(""),p=Object(j.a)(x,2),m=p[0],f=p[1],v=Object(i.g)();return Object(g.jsx)(N.a,{fluid:"sm",className:"form",children:Object(g.jsx)(L.a,{children:Object(g.jsx)(k.a,{children:Object(g.jsxs)(u.a,{onSubmit:function(e){e.preventDefault();var t={title:c,description:l,artist:h,image:m};console.log(t),T.a.post("/api/routes/create",t),v.push("/")},children:[Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Title"}),Object(g.jsx)(u.a.Control,{value:c,type:"title",placeholder:"Title",onChange:function(e){return a(e.target.value)}})]}),Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Description"}),Object(g.jsx)(u.a.Control,{value:l,as:"textarea",rows:5,placeholder:"Type Your Description...",onChange:function(e){return o(e.target.value)}})]}),Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Artist"}),Object(g.jsx)(u.a.Control,{value:h,type:"artist",placeholder:"Artist Name",onChange:function(e){return O(e.target.value)}})]}),Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Image"}),Object(g.jsx)(u.a.Control,{value:m,placeholder:"Image Url",onChange:function(e){return f(e.target.value)}})]}),Object(g.jsx)(u.a.Group,{children:Object(g.jsx)("button",{type:"submit",children:"Submit"})})]})})})})},A=function(){return Object(g.jsx)("div",{className:"container",children:Object(g.jsx)(U,{})})},G=function(e){console.log("this is the useFetch top #1 ",e);var t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),i=Object(j.a)(s,2),l=i[0],o=i[1];return Object(n.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(console.log("this the useFetch res 2",e),!e.ok)throw Error("Could not fetch the data for that resource");return e.json()})).then((function(e){r(e),o(null)})).catch((function(e){"AbortError"===e.name&&console.log("fetch aborted"),o(e.message)})),function(){return t.abort()}}),[]),{data:a,error:l}},E=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(j.a)(r,2),l=s[0],o=s[1],b=Object(n.useState)(""),d=Object(j.a)(b,2),h=d[0],O=d[1],x=Object(n.useState)(""),p=Object(j.a)(x,2),m=p[0],f=p[1],v=Object(i.g)(),w=Object(i.h)().id;console.log(w);var y=G("/api/routes/update/".concat(w)),S=y.data;y.error;return Object(g.jsx)("div",{className:"container",children:S&&Object(g.jsx)("div",{children:Object(g.jsx)(N.a,{fluid:"sm",className:"form",children:Object(g.jsx)(L.a,{children:Object(g.jsx)(k.a,{children:Object(g.jsxs)(u.a,{onSubmit:function(e){e.preventDefault();var t={newTitle:c,newDescription:l,newArtist:h,newImage:m};console.log(t),T.a.post("/api/routes/update/".concat(w),t),T.a.get("/api/routes").then((function(e){return e.json})),v.push("/")},children:[Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:Object(g.jsx)("h2",{children:S.title})}),Object(g.jsx)(u.a.Control,{type:"title",placeholder:"".concat(S.title),onChange:function(e){return a(e.target.value)}})]}),Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Description"}),Object(g.jsx)(u.a.Control,{as:"textarea",rows:5,placeholder:"".concat(S.description),onChange:function(e){return o(e.target.value)}})]}),Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Artist"}),Object(g.jsx)(u.a.Control,{type:"artist",placeholder:"".concat(S.artist),onChange:function(e){return O(e.target.value)}})]}),Object(g.jsxs)(u.a.Group,{children:[Object(g.jsx)(u.a.Label,{children:"Image"}),Object(g.jsx)(u.a.Control,{type:"title",placeholder:"".concat(S.image),onChange:function(e){return f(e.target.value)}})]}),Object(g.jsx)(u.a.Group,{children:Object(g.jsx)("button",{type:"submit",children:"Submit"})})]})})})})})})},I=function(){var e=Object(i.h)().id;console.log(e);var t=Object(i.g)(),c=Object(n.useState)([]),a=Object(j.a)(c,2),r=a[0],s=a[1];Object(n.useEffect)((function(){fetch("/api/routes/details/".concat(e)).then((function(e){if(e.ok)return console.log("response ok"),e.json()})).then((function(e){return s(e)})).catch((function(e){return console.log(e)}))}),[]);return Object(g.jsx)("div",{className:"container",children:r&&Object(g.jsxs)(O.a,{style:{width:"18rem"},className:"box-home",children:[Object(g.jsx)(O.a.Img,{Image:!0,variant:"top",src:r.image}),Object(g.jsxs)(O.a.Body,{children:[Object(g.jsx)(O.a.Title,{children:r.title}),Object(g.jsx)(O.a.Text,{children:r.description}),Object(g.jsxs)(l.b,{to:"/update/".concat(r._id),children:[Object(g.jsx)(h.a,{variant:"primary",children:"Update Tee"})," "]}),Object(g.jsx)(l.b,{to:"/delete/".concat(r._id),children:Object(g.jsx)(h.a,{variant:"primary",onClick:function(c){c.preventDefault(),T.a.get("/api/routes/delete/".concat(e)),t.push("/")},children:"Delete Tee"})})]})]},r._id)})},R=c(20),D=c.n(R),F=c(27),B=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),a=w(),r=a.signup,s=(a.currentUser,Object(n.useState)("")),o=Object(j.a)(s,2),b=o[0],d=o[1],p=Object(n.useState)(!1),m=Object(j.a)(p,2),f=m[0],v=m[1],y=Object(i.g)();function S(){return(S=Object(F.a)(D.a.mark((function n(a){return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),t.current.value===c.current.value){n.next=3;break}return n.abrupt("return",d("Passwords do not match!"));case 3:return n.prev=3,d(""),v(!0),n.next=8,r(e.current.value,t.current.value);case 8:y.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),d("Failed to create an account",n.t0);case 14:v(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(N.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(g.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(g.jsx)(O.a,{children:Object(g.jsxs)(O.a.Body,{children:[Object(g.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),b&&Object(g.jsx)(x.a,{variant:"danger",children:b}),Object(g.jsxs)(u.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(g.jsxs)(u.a.Group,{id:"email",children:[Object(g.jsx)(u.a.Label,{children:"Email"}),Object(g.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(g.jsxs)(u.a.Group,{id:"email",children:[Object(g.jsx)(u.a.Label,{children:"Password"}),Object(g.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(g.jsxs)(u.a.Group,{id:"password-confirm",children:[Object(g.jsx)(u.a.Label,{children:"Password Confirmation"}),Object(g.jsx)(u.a.Control,{type:"password",ref:c,required:!0})]}),Object(g.jsx)(h.a,{disabled:f,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(g.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(g.jsx)(l.b,{to:"/login",children:"Login"})]})]})})})},q=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=w(),a=c.login,r=(c.currentUser,Object(n.useState)("")),s=Object(j.a)(r,2),o=s[0],b=s[1],d=Object(n.useState)(!1),p=Object(j.a)(d,2),m=p[0],f=p[1],v=Object(i.g)();function y(){return(y=Object(F.a)(D.a.mark((function c(n){return D.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,b(""),f(!0),c.next=6,a(e.current.value,t.current.value);case 6:v.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),b("Failed to sign in",c.t0);case 12:f(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(N.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(g.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(g.jsx)(O.a,{children:Object(g.jsxs)(O.a.Body,{children:[Object(g.jsx)("h2",{className:"text-center mb-4",children:"Login"}),o&&Object(g.jsx)(x.a,{variant:"danger",children:o}),Object(g.jsxs)(u.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(g.jsxs)(u.a.Group,{id:"email",children:[Object(g.jsx)(u.a.Label,{children:"Email"}),Object(g.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(g.jsxs)(u.a.Group,{id:"password",children:[Object(g.jsx)(u.a.Label,{children:"Password"}),Object(g.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(g.jsx)(h.a,{disabled:m,className:"w-100",type:"submit",children:"Log In"})]}),Object(g.jsx)("div",{className:"w-100 text-center mt-3",children:Object(g.jsx)(l.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(g.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need An Account? ",Object(g.jsx)(l.b,{to:"/signup",children:"Sign Up"})]})]})})})};function W(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],r=w(),s=r.currentUser,o=r.logout,b=Object(i.g)();function u(){return(u=Object(F.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,o();case 4:b.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{children:Object(g.jsxs)(O.a.Body,{children:[Object(g.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),c&&Object(g.jsx)(x.a,{variant:"danger",children:c}),Object(g.jsx)("strong",{children:"Email:"})," ",s.email,Object(g.jsx)(l.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(g.jsx)("div",{className:"w-100 text-center mt-2",children:Object(g.jsx)(h.a,{variant:"link",onClick:function(){return u.apply(this,arguments)},children:"Log Out"})})]})}var _=c(40),H=c(63);function K(e){var t=e.component,c=Object(H.a)(e,["component"]),n=w().currentUser;return Object(g.jsx)(i.b,Object(_.a)(Object(_.a)({},c),{},{render:function(e){return n?Object(g.jsx)(t,Object(_.a)({},e)):Object(g.jsx)(i.a,{to:"login"})}}))}var z=function(){var e=Object(n.useRef)(),t=w().resetPassword,c=Object(n.useState)(""),a=Object(j.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)(!1),o=Object(j.a)(i,2),b=o[0],d=o[1],p=Object(n.useState)(),m=Object(j.a)(p,2),f=m[0],v=m[1];function y(){return(y=Object(F.a)(D.a.mark((function c(n){return D.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,v(""),s(""),d(!0),c.next=7,t(e.current.value);case 7:v("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),s("Failed to reset password",c.t0);case 13:d(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(N.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(g.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(g.jsx)(O.a,{children:Object(g.jsxs)(O.a.Body,{children:[Object(g.jsx)("h2",{className:"text-center mb-4",children:"Reset Password"}),r&&Object(g.jsx)(x.a,{variant:"danger",children:r}),f&&Object(g.jsx)(x.a,{variant:"success",children:f}),Object(g.jsxs)(u.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(g.jsxs)(u.a.Group,{id:"email",children:[Object(g.jsx)(u.a.Label,{children:"Email"}),Object(g.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(g.jsx)(h.a,{disabled:b,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(g.jsx)("div",{className:"w-100 text-center mt-3",children:Object(g.jsx)(l.b,{to:"/login",children:"Login"})})]})}),Object(g.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need An Account? ",Object(g.jsx)(l.b,{to:"/signup",children:"Sign Up"})]})]})})})},J=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),a=w(),r=a.currentUser,s=a.updatePassword,o=a.updateEmail,b=Object(n.useState)(""),d=Object(j.a)(b,2),p=d[0],m=d[1],f=Object(n.useState)(!1),v=Object(j.a)(f,2),y=v[0],S=v[1],C=Object(i.g)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(N.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(g.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(g.jsx)(O.a,{children:Object(g.jsxs)(O.a.Body,{children:[Object(g.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),p&&Object(g.jsx)(x.a,{variant:"danger",children:p}),Object(g.jsxs)(u.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==c.current.value)return m("Passwords do not match!");var a=[];S(!0),m(""),e.current.value!==r.email&&a.push(o(e.current.value)),t.current.value&&a.push(s(t.current.value)),Promise.all(a).then((function(){C.push("/")})).catch((function(){m("Failed to Update Account")})).finally((function(){S(!1)}))},children:[Object(g.jsxs)(u.a.Group,{id:"email",children:[Object(g.jsx)(u.a.Label,{children:"Email"}),Object(g.jsx)(u.a.Control,{type:"email",ref:e,required:!0,defaultValue:r.email})]}),Object(g.jsxs)(u.a.Group,{id:"password",children:[Object(g.jsx)(u.a.Label,{children:"Password"}),Object(g.jsx)(u.a.Control,{type:"password",ref:t,placeholder:"Leave Blank To Keep The Same Password"})]}),Object(g.jsxs)(u.a.Group,{id:"password-confirm",children:[Object(g.jsx)(u.a.Label,{children:"Password Confirmation"}),Object(g.jsx)(u.a.Control,{type:"password",ref:c,placeholder:"Leave Blank To Keep The Same Password"})]}),Object(g.jsx)(h.a,{disabled:y,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(g.jsx)("div",{className:"w-100 text-center mt-2",children:Object(g.jsx)(l.b,{to:"/",children:"Cancel"})})]})})})};var M=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(S,{}),Object(g.jsx)(i.d,{children:Object(g.jsxs)(y,{children:[Object(g.jsx)(i.b,{exact:!0,path:"/",component:C}),Object(g.jsx)(K,{path:"/create",component:A}),Object(g.jsx)(K,{path:"/update/:id",component:E}),Object(g.jsx)(K,{path:"/details/:id",component:I}),Object(g.jsx)(i.b,{path:"/signup",component:B}),Object(g.jsx)(i.b,{path:"/login",component:q}),Object(g.jsx)(i.b,{path:"/forgot-password",component:z}),Object(g.jsx)(K,{path:"/profile",component:W}),Object(g.jsx)(K,{path:"/update-profile",component:J})]})})]})};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(l.a,{children:Object(g.jsx)(M,{})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.7e050b27.chunk.js.map