(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),r=c(39),s=c.n(r),i=(c(75),c(15)),o=c(9),j=c(10),l=c(113),b=c(112),u=c(111),d=c(67),h=c(108),O=c(115),x=c(114),p=c(70),m=(c(78),p.a.initializeApp({apiKey:"AIzaSyBVDeutBwY8UylI1b9JGL3_KUvln7j-9Eg",authDomain:"moto-dev-5834b.firebaseapp.com",databaseURL:"https://moto-dev-5834b.firebaseio.com",projectId:"moto-dev-5834b",storageBucket:"moto-dev-5834b.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBVDeutBwY8UylI1b9JGL3_KUvln7j-9Eg",REACT_APP_FIREBASE_APP_ID:"1:531854043195:web:84e00a45e245f3614f941e",REACT_APP_FIREBASE_AUTH_DOMAIN:"moto-dev-5834b.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://moto-dev-5834b.firebaseio.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"531854043195",REACT_APP_FIREBASE_PROJECT_ID:"moto-dev-5834b",REACT_APP_FIREBASE_STORAGE_BUCKET:"moto-dev-5834b.appspot.com"}).REACT_APP_FIREBASE_MESSAGE_SENDER_ID,appId:"1:531854043195:web:84e00a45e245f3614f941e"})),f=m.auth(),v=c(3),g=a.a.createContext();function w(){return Object(n.useContext)(g)}function S(e){var t=e.children,c=Object(n.useState)(),a=Object(o.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)(!0),j=Object(o.a)(i,2),l=j[0],b=j[1];Object(n.useEffect)((function(){return f.onAuthStateChanged((function(e){s(e),b(!1)}))}),[]);var u={currentUser:r,signup:function(e,t){return f.createUserWithEmailAndPassword(e,t)},login:function(e,t){return f.signInWithEmailAndPassword(e,t)},logout:function(){return f.signOut()},resetPassword:function(e){return f.sendPasswordResetEmail(e)},updateEmail:function(e){return f.currentUser.updateEmail(e)},updatePassword:function(e){return f.currentUser.updatePassword(e)}};return Object(v.jsx)(g.Provider,{value:u,children:!l&&t})}var y=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0];t[1];return Object(v.jsxs)(l.a,{bg:"primary",expand:"sm",children:[Object(v.jsx)(l.a.Brand,{href:"#home",children:"Rescued Tees"}),Object(v.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsxs)(l.a.Collapse,{id:"basic-navbar-nav",children:[Object(v.jsxs)(b.a,{className:"mr-auto",children:[Object(v.jsx)(j.b,{to:"/",children:Object(v.jsx)(b.a.Link,{href:"#home",children:"View All Tees"})}),Object(v.jsx)(j.b,{to:"/create",children:Object(v.jsx)(b.a.Link,{href:"#create",children:"Create Tee"})}),Object(v.jsx)(j.b,{to:"/update",children:Object(v.jsx)(b.a.Link,{href:"#update",children:"Update Tee"})}),Object(v.jsx)(j.b,{to:"/signup",children:Object(v.jsx)(b.a.Link,{href:"#signup",children:"Signup"})}),Object(v.jsx)(j.b,{to:"/login",children:Object(v.jsx)(b.a.Link,{href:"#login",children:"Login"})}),Object(v.jsx)(b.a.Link,{onClick:function(){},children:"Logout"}),Object(v.jsx)(j.b,{to:"/profile",children:Object(v.jsx)(b.a.Link,{href:"#profile",children:"Profile"})}),Object(v.jsx)(O.a,{children:Object(v.jsx)(O.a.Body,{children:c&&Object(v.jsx)(x.a,{variant:"danger",children:c})})})]}),Object(v.jsxs)(u.a,{inline:!0,children:[Object(v.jsx)(d.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(v.jsx)(h.a,{variant:"outline-light",children:"Search"})]})]})]})},E=(c(55),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(i.h)().id;console.log(r),Object(n.useEffect)((function(){fetch("/api/routes").then((function(e){if(e.ok)return console.log("response ok"),e.json()})).then((function(e){return a(e)})).catch((function(e){return console.log(e)}))}),[c]);return Object(v.jsx)("div",{className:"grid",children:c&&c.map((function(e){return Object(v.jsxs)(O.a,{style:{width:"18rem"},className:"box-home",children:[Object(v.jsx)(O.a.Img,{Image:!0,variant:"top",src:e.image}),Object(v.jsxs)(O.a.Body,{children:[Object(v.jsx)(O.a.Title,{children:e.title}),Object(v.jsx)(O.a.Text,{children:e.description}),Object(v.jsxs)(j.b,{to:"/details/".concat(e._id),children:[Object(v.jsx)(h.a,{variant:"primary",children:"Details"})," "]})]})]},e._id)}))})}),A=c(109),C=c(110),_=c(68),P=c(30),N=c.n(P),L=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(o.a)(r,2),j=s[0],l=s[1],b=Object(n.useState)(""),d=Object(o.a)(b,2),h=d[0],O=d[1],x=Object(n.useState)(""),p=Object(o.a)(x,2),m=p[0],f=p[1],g=Object(i.g)();return Object(v.jsx)(A.a,{fluid:"sm",className:"form",children:Object(v.jsx)(C.a,{children:Object(v.jsx)(_.a,{children:Object(v.jsxs)(u.a,{onSubmit:function(e){e.preventDefault();var t={title:c,description:j,artist:h,image:m};console.log(t),N.a.post("/api/routes/create",t),g.push("/")},children:[Object(v.jsxs)(u.a.Group,{children:[Object(v.jsx)(u.a.Label,{children:"Title"}),Object(v.jsx)(u.a.Control,{value:c,type:"title",placeholder:"Title",onChange:function(e){return a(e.target.value)}})]}),Object(v.jsxs)(u.a.Group,{children:[Object(v.jsx)(u.a.Label,{children:"Description"}),Object(v.jsx)(u.a.Control,{value:j,as:"textarea",rows:5,placeholder:"Type Your Description...",onChange:function(e){return l(e.target.value)}})]}),Object(v.jsxs)(u.a.Group,{children:[Object(v.jsx)(u.a.Label,{children:"Artist"}),Object(v.jsx)(u.a.Control,{value:h,type:"artist",placeholder:"Artist Name",onChange:function(e){return O(e.target.value)}})]}),Object(v.jsxs)(u.a.Group,{children:[Object(v.jsx)(u.a.Label,{children:"Image"}),Object(v.jsx)(u.a.Control,{value:m,placeholder:"Image Url",onChange:function(e){return f(e.target.value)}})]}),Object(v.jsx)(u.a.Group,{children:Object(v.jsx)("button",{type:"submit",children:"Submit"})})]})})})})},R=function(){return Object(v.jsx)("div",{className:"container",children:Object(v.jsx)(L,{})})},T=function(e){console.log("this is the useFetch top #1 ",e);var t=Object(n.useState)(null),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),i=Object(o.a)(s,2),j=i[0],l=i[1];return Object(n.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(console.log("this the useFetch res 2",e),!e.ok)throw Error("Could not fetch the data for that resource");return e.json()})).then((function(e){r(e),l(null)})).catch((function(e){"AbortError"===e.name&&console.log("fetch aborted"),l(e.message)})),function(){return t.abort()}}),[]),{data:a,error:j}},I=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(o.a)(r,2),j=s[0],l=s[1],b=Object(n.useState)(""),d=Object(o.a)(b,2),h=d[0],O=d[1],x=Object(n.useState)(""),p=Object(o.a)(x,2),m=p[0],f=p[1],g=Object(i.g)(),w=Object(i.h)().id;console.log(w);var S=T("/api/routes/update/".concat(w)),y=S.data;S.error;return Object(v.jsx)("div",{className:"container",children:y&&Object(v.jsx)("div",{children:Object(v.jsx)(A.a,{fluid:"sm",className:"form",children:Object(v.jsx)(C.a,{children:Object(v.jsx)(_.a,{children:Object(v.jsxs)(u.a,{onSubmit:function(e){e.preventDefault();var t={newTitle:c,newDescription:j,newArtist:h,newImage:m};console.log(t),N.a.post("/api/routes/update/".concat(w),t),N.a.get("/api/routes").then((function(e){return e.json})),g.push("/")},children:[Object(v.jsxs)(u.a.Group,{children:[Object(v.jsx)(u.a.Label,{children:Object(v.jsx)("h2",{children:y.title})}),Object(v.jsx)(u.a.Control,{type:"title",placeholder:"".concat(y.title),onChange:function(e){return a(e.target.value)}})]}),Object(v.jsxs)(u.a.Group,{children:[Object(v.jsx)(u.a.Label,{children:"Description"}),Object(v.jsx)(u.a.Control,{as:"textarea",rows:5,placeholder:"".concat(y.description),onChange:function(e){return l(e.target.value)}})]}),Object(v.jsxs)(u.a.Group,{children:[Object(v.jsx)(u.a.Label,{children:"Artist"}),Object(v.jsx)(u.a.Control,{type:"artist",placeholder:"".concat(y.artist),onChange:function(e){return O(e.target.value)}})]}),Object(v.jsxs)(u.a.Group,{children:[Object(v.jsx)(u.a.Label,{children:"Image"}),Object(v.jsx)(u.a.Control,{type:"title",placeholder:"".concat(y.image),onChange:function(e){return f(e.target.value)}})]}),Object(v.jsx)(u.a.Group,{children:Object(v.jsx)("button",{type:"submit",children:"Submit"})})]})})})})})})},k=function(){var e=Object(i.h)().id;console.log(e);var t=Object(i.g)(),c=Object(n.useState)([]),a=Object(o.a)(c,2),r=a[0],s=a[1];Object(n.useEffect)((function(){fetch("/api/routes/details/".concat(e)).then((function(e){if(e.ok)return console.log("response ok"),e.json()})).then((function(e){return s(e)})).catch((function(e){return console.log(e)}))}),[]);return Object(v.jsx)("div",{className:"container",children:r&&Object(v.jsxs)(O.a,{style:{width:"18rem"},className:"box-home",children:[Object(v.jsx)(O.a.Img,{Image:!0,variant:"top",src:r.image}),Object(v.jsxs)(O.a.Body,{children:[Object(v.jsx)(O.a.Title,{children:r.title}),Object(v.jsx)(O.a.Text,{children:r.description}),Object(v.jsxs)(j.b,{to:"/update/".concat(r._id),children:[Object(v.jsx)(h.a,{variant:"primary",children:"Update Tee"})," "]}),Object(v.jsx)(j.b,{to:"/delete/".concat(r._id),children:Object(v.jsx)(h.a,{variant:"primary",onClick:function(c){c.preventDefault(),N.a.get("/api/routes/delete/".concat(e)),t.push("/")},children:"Delete Tee"})})]})]},r._id)})},U=c(24),B=c.n(U),D=c(31),G=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),a=w(),r=a.signup,s=(a.currentUser,Object(n.useState)("")),l=Object(o.a)(s,2),b=l[0],d=l[1],p=Object(n.useState)(!1),m=Object(o.a)(p,2),f=m[0],g=m[1],S=Object(i.g)();function y(){return(y=Object(D.a)(B.a.mark((function n(a){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),t.current.value===c.current.value){n.next=3;break}return n.abrupt("return",d("Passwords do not match!"));case 3:return n.prev=3,d(""),g(!0),n.next=8,r(e.current.value,t.current.value);case 8:S.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),d("Failed to create an account",n.t0);case 14:g(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(A.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(O.a,{children:Object(v.jsxs)(O.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),b&&Object(v.jsx)(x.a,{variant:"danger",children:b}),Object(v.jsxs)(u.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(v.jsxs)(u.a.Group,{id:"email",children:[Object(v.jsx)(u.a.Label,{children:"Email"}),Object(v.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(u.a.Group,{id:"email",children:[Object(v.jsx)(u.a.Label,{children:"Password"}),Object(v.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsxs)(u.a.Group,{id:"password-confirm",children:[Object(v.jsx)(u.a.Label,{children:"Password Confirmation"}),Object(v.jsx)(u.a.Control,{type:"password",ref:c,required:!0})]}),Object(v.jsx)(h.a,{disabled:f,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(v.jsx)(j.b,{to:"/login",children:"Login"})]})]})})})},F=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=w(),a=c.login,r=(c.currentUser,Object(n.useState)("")),s=Object(o.a)(r,2),l=s[0],b=s[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),m=p[0],f=p[1],g=Object(i.g)();function S(){return(S=Object(D.a)(B.a.mark((function c(n){return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,b(""),f(!0),c.next=6,a(e.current.value,t.current.value);case 6:g.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),b("Failed to sign in",c.t0);case 12:f(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(A.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(O.a,{children:Object(v.jsxs)(O.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Login"}),l&&Object(v.jsx)(x.a,{variant:"danger",children:l}),Object(v.jsxs)(u.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(v.jsxs)(u.a.Group,{id:"email",children:[Object(v.jsx)(u.a.Label,{children:"Email"}),Object(v.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(u.a.Group,{id:"password",children:[Object(v.jsx)(u.a.Label,{children:"Password"}),Object(v.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsx)(h.a,{disabled:m,className:"w-100",type:"submit",children:"Log In"})]}),Object(v.jsx)("div",{className:"w-100 text-center mt-3",children:Object(v.jsx)(j.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need An Account? ",Object(v.jsx)(j.b,{to:"/signup",children:"Sign Up"})]})]})})})};function K(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],r=w(),s=r.currentUser,l=r.logout,b=Object(i.g)();function u(){return(u=Object(D.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,l();case 4:b.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O.a,{children:Object(v.jsxs)(O.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),c&&Object(v.jsx)(x.a,{variant:"danger",children:c}),Object(v.jsx)("strong",{children:"Email:"})," ",s.email,Object(v.jsx)(j.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(v.jsx)("div",{className:"w-100 text-center mt-2",children:Object(v.jsx)(h.a,{variant:"link",onClick:function(){return u.apply(this,arguments)},children:"Log Out"})})]})}var W=c(46),H=c(69);function q(e){var t=e.component,c=Object(H.a)(e,["component"]),n=w().currentUser;return Object(v.jsx)(i.b,Object(W.a)(Object(W.a)({},c),{},{render:function(e){return n?Object(v.jsx)(t,Object(W.a)({},e)):Object(v.jsx)(i.a,{to:"login"})}}))}var J=function(){var e=Object(n.useRef)(),t=w().resetPassword,c=Object(n.useState)(""),a=Object(o.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(o.a)(i,2),b=l[0],d=l[1],p=Object(n.useState)(),m=Object(o.a)(p,2),f=m[0],g=m[1];function S(){return(S=Object(D.a)(B.a.mark((function c(n){return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,g(""),s(""),d(!0),c.next=7,t(e.current.value);case 7:g("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),s("Failed to reset password",c.t0);case 13:d(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(A.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(O.a,{children:Object(v.jsxs)(O.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Reset Password"}),r&&Object(v.jsx)(x.a,{variant:"danger",children:r}),f&&Object(v.jsx)(x.a,{variant:"success",children:f}),Object(v.jsxs)(u.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(v.jsxs)(u.a.Group,{id:"email",children:[Object(v.jsx)(u.a.Label,{children:"Email"}),Object(v.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsx)(h.a,{disabled:b,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(v.jsx)("div",{className:"w-100 text-center mt-3",children:Object(v.jsx)(j.b,{to:"/login",children:"Login"})})]})}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need An Account? ",Object(v.jsx)(j.b,{to:"/signup",children:"Sign Up"})]})]})})})},V=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),a=w(),r=a.currentUser,s=a.updatePassword,l=a.updateEmail,b=Object(n.useState)(""),d=Object(o.a)(b,2),p=d[0],m=d[1],f=Object(n.useState)(!1),g=Object(o.a)(f,2),S=g[0],y=g[1],E=Object(i.g)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(A.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(O.a,{children:Object(v.jsxs)(O.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),p&&Object(v.jsx)(x.a,{variant:"danger",children:p}),Object(v.jsxs)(u.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==c.current.value)return m("Passwords do not match!");var a=[];y(!0),m(""),e.current.value!==r.email&&a.push(l(e.current.value)),t.current.value&&a.push(s(t.current.value)),Promise.all(a).then((function(){E.push("/")})).catch((function(){m("Failed to Update Account")})).finally((function(){y(!1)}))},children:[Object(v.jsxs)(u.a.Group,{id:"email",children:[Object(v.jsx)(u.a.Label,{children:"Email"}),Object(v.jsx)(u.a.Control,{type:"email",ref:e,required:!0,defaultValue:r.email})]}),Object(v.jsxs)(u.a.Group,{id:"password",children:[Object(v.jsx)(u.a.Label,{children:"Password"}),Object(v.jsx)(u.a.Control,{type:"password",ref:t,placeholder:"Leave Blank To Keep The Same Password"})]}),Object(v.jsxs)(u.a.Group,{id:"password-confirm",children:[Object(v.jsx)(u.a.Label,{children:"Password Confirmation"}),Object(v.jsx)(u.a.Control,{type:"password",ref:c,placeholder:"Leave Blank To Keep The Same Password"})]}),Object(v.jsx)(h.a,{disabled:S,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(v.jsx)("div",{className:"w-100 text-center mt-2",children:Object(v.jsx)(j.b,{to:"/",children:"Cancel"})})]})})})};var M=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(y,{}),Object(v.jsx)(i.d,{children:Object(v.jsxs)(S,{children:[Object(v.jsx)(i.b,{exact:!0,path:"/",component:E}),Object(v.jsx)(q,{path:"/create",component:R}),Object(v.jsx)(q,{path:"/update/:id",component:I}),Object(v.jsx)(q,{path:"/details/:id",component:k}),Object(v.jsx)(i.b,{path:"/signup",component:G}),Object(v.jsx)(i.b,{path:"/login",component:F}),Object(v.jsx)(i.b,{path:"/forgot-password",component:J}),Object(v.jsx)(q,{path:"/profile",component:K}),Object(v.jsx)(q,{path:"/update-profile",component:V})]})})]})};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(j.a,{children:Object(v.jsx)(M,{})})}),document.getElementById("root"))},55:function(e,t,c){}},[[106,1,2]]]);
//# sourceMappingURL=main.d1c646dd.chunk.js.map